サーバ機＝NPWSサーバ。
合言葉＝「KYOZUJHS」。

送信文＝{}。
送信文["action"]＝"sendmessage"。
送信文["name"]＝クライアント機。

// 名前を設定する
クライアント機＝「あなたの名前を入力」と尋ねる。
もし，クライアント機＝空ならば終わる。

// 先に画面をつくる。
入力場所＝空のエディタ作成。

// メッセージを送信するボタン
送信ボタン＝「送信」のボタン作成。
送信ボタンを無効化。
送信ボタンをクリックした時には
　　送信文["data"]＝「｛クライアント機｝：｛入力場所のテキスト取得｝」。
　　送信文をJSONエンコード整形してWS送信。
　　入力場所に「」をテキスト設定。
ここまで。

// サーバと切断するボタン
終了ボタン＝「サーバと切断」のボタン作成。
改行作成。改行作成。

WS接続完了した時には
　　「サーバ機に接続しました。最後は必ずサーバと切断してください。」と青色で表示。
　　送信ボタンを有効化。
ここまで。

WSエラー発生時には
　　「サーバに接続できませんでした」を赤色で表示。
ここまで。

// メッセージを受信した時の処理
WS受信した時には
　　受信データ＝対象をJSONデコード。
　　受信文＝受信データ["data"]。
　　「｛受信文｝」を表示。
ここまで

// サーバと切断するボタン
終了ボタンをクリックした時には
　　WS切断。
　　「サーバとの接続を切断しました。」と青色で表示。
　　送信ボタンを無効化。
ここまで。

// サーバと接続する
「｛サーバ機｝?roomId=｛合言葉｝」へWS接続。
