!非同期モード。
// WebAPIを利用して，日本語を多言語へ翻訳する例
// （このWebAPIは，なでしこパット専用です）

// (1) 画面の準備
元文＝"カフェ発祥のトルコには「1杯のコーヒーが40年の思い出をつくる」という言葉がある。"
入力エディタ＝元文のテキストエリア作成。
入力エディタの「cols」に「40」をDOM属性設定。
入力エディタの「rows」に「5」をDOM属性設定。
改行作成。

// (2) 翻訳先の言語を選ぶためのセレクトボックスを作成
話者＝[]。
話者一覧取得を反復。
　　S=対象["lang"] & " - " & 対象["name"]。
　　話者にSを配列追加。
ここまで。
もし，(話者の配列要素数)<1ならば，「話者を取得できないので，もう一度実行してください。」のエラー発生。
話者リスト＝話者のセレクトボックス作成。

翻訳ボタン＝「翻訳」のボタン作成。
音読ボタン＝「音読」のボタン作成。
改行作成。

// (3) 翻訳する処理
翻訳文＝「」。
選択話者＝「」。
翻訳ボタンをクリックした時には
    // (4) WebAPIへ送信するURIを生成する
　　S＝話者リストのテキスト取得。
　　変換後＝Sの2文字左部分。      // 変換先の言語
　　選択話者＝Sの5文字左部分。    // 翻訳した文を読む話者
　　元文＝入力エディタのテキスト取得。
　　URI="{翻訳API}?target={変換後}&input_text={元文}"。

    // (5) WebAPIから，翻訳された文を受信する
　　URIからAJAX受信。
　　翻訳文＝対象。

    // (6) 翻訳された結果を表示する
　　元文を表示。
　　翻訳文を青色で表示。
　　改行作成。
ここまで。

音読ボタンをクリックした時には
　　もし，翻訳文＝空ならば，戻る。
　　
    // (7) 翻訳された結果を，その言語の話者で音読する
　　選択話者に話者設定。
　　翻訳文を話す。
ここまで。
