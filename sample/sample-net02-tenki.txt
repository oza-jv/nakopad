// ネットワーク通信を利用して
// 天気予報を取得するサンプル
// （https://www.mext.go.jp/a_menu/shotou/zyouhou/detail/mext_00617.html の事例2-4 図10）
// このプログラムを非同期モードに対応させたバージョンは，
// お手本から「双方向9 JMOOC用天気予報」を参照してください。

//画面の準備
都市＝["札幌","東京","大阪","広島","福岡"]のセレクトボックス作成。
取得ボタン＝「の明日の天気は」のボタン作成。
結果＝「天気予報」のラベル作成。

//天気情報をネットワークから取得
URL=「https://api.aoikujira.com/tenki/week.php?fmt=json」。
天気＝「」。
URLにAJAX送信した時には
　　天気＝対象をJSONデコード。
ここまで。

//動作
取得ボタンをクリックした時には
　　//天気予報を文字で表示
　　選択都市＝都市のテキスト取得。
　　明日天気＝天気[選択都市][0]["forecast"]。
　　結果に明日天気をテキスト設定。

　　//天気予報を音声で話す
　　文章＝「{選択都市}の明日の天気は、{明日天気}」。
　　文章を話す。

　　//予報によって色を変える処理(演習2-1)
　　判定＝明日天気の１文字左部分。
　　もし、判定＝「晴」ならば
　　　　結果の「背景色」に黄色をDOMスタイル設定。
　　違えばもし、判定＝「雨」ならば
　　　　結果の「背景色」に水色をDOMスタイル設定。
　　違えば
　　　　結果の「背景色」に灰色をDOMスタイル設定。
　　ここまで。
ここまで。
